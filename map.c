#include <stdlib.h>
#include <stdio.h>

#include "include/inventory.h"
#include "include/player.h"
#include "include/map.h"


/*

FUNCTION generateMap

*/

void generateMap(int level,map * map,joueur * j) {
    int MAP_WIDTH;
    int MAP_HEIGHT;

    switch (level) {
        case 0:
            /*
            
            MAP 1
            01234567890
           0#####B#####
           1#### M##S #
           2####      #
           3# M   #####
           4# #########
           5# #########
           6#  M     X#
           7###########

            # = 0 (wall) ; ' ' = 1 (path); X = 2(player); M = 3(monster); S = 4(shop); B = 5(boss); x = 6 (has been)
            No boss for now

            petit donc j'ai fait à la main
            */
            MAP_WIDTH = 11;
            MAP_HEIGHT = 8;

            map->map = malloc(sizeof(int*)*MAP_HEIGHT);
            for (int i = 0; i < MAP_HEIGHT; i++){
                map->map[i] = malloc(sizeof(int)*MAP_WIDTH);
            }
            
            for (int i = 0; i < MAP_HEIGHT; i++){
                for (int j = 0; j < MAP_WIDTH; j++){
                    map->map[i][j] = 0;
                }
            }

            map->map[0][5] = 5;
            map->map[1][5] = 3;
            map->map[1][4] = 1;
            map->map[1][8] = 4;
            map->map[2][4] = 1;
            map->map[2][5] = 1;
            map->map[2][6] = 1;
            map->map[2][7] = 1;
            map->map[2][8] = 1;
            map->map[2][9] = 1;
            map->map[3][1] = 1;
            map->map[3][2] = 3;
            map->map[3][3] = 1;
            map->map[3][4] = 1;
            map->map[3][5] = 1;
            map->map[4][1] = 1;
            map->map[5][1] = 1;
            map->map[6][1] = 1;
            map->map[6][2] = 1;
            map->map[6][3] = 3;
            map->map[6][4] = 1;
            map->map[6][5] = 1;
            map->map[6][6] = 1;
            map->map[6][7] = 1;
            map->map[6][8] = 1;
            map->map[6][9] = 2;
            j->posX = 9;
            j->posY = 6;
            break;
        
        case 1 :

            /*
            
            MAP 2

             012345678901234
            0##B############
            1##     ##     #
            2#####M#### ## #
            3#####   M  ## #
            4############ M#
            5#S###         #
            6#     ####### #
            7#             #
            8#########X    #
            9###############

            j'avais encore de l'espor et je l'ai fait à la main
            */

            MAP_WIDTH = 15;
            MAP_HEIGHT = 10;

            map->map = malloc(sizeof(int*)*MAP_HEIGHT);
            for (int i = 0; i < MAP_HEIGHT; i++){
                map->map[i] = malloc(sizeof(int)*MAP_WIDTH);
            }

            map->map[0][0] = 0;map->map[0][1] = 0;map->map[0][2] = 5;map->map[0][3] = 0;map->map[0][4] = 0;map->map[0][5] = 0;map->map[0][6] = 0;map->map[0][7] = 0;map->map[0][8] = 0;map->map[0][9] = 0;map->map[0][10] = 0;map->map[0][11] = 0;map->map[0][12] = 0;map->map[0][13] = 0;map->map[0][14] = 0;
            map->map[1][0] = 0;map->map[1][1] = 0;map->map[1][2] = 1;map->map[1][3] = 1;map->map[1][4] = 1;map->map[1][5] = 1;map->map[1][6] = 1;map->map[1][7] = 0;map->map[1][8] = 0;map->map[1][9] = 1;map->map[1][10] = 1;map->map[1][11] = 1;map->map[1][12] = 1;map->map[1][13] = 1;map->map[1][14] = 0;
            map->map[2][0] = 0;map->map[2][1] = 0;map->map[2][2] = 0;map->map[2][3] = 0;map->map[2][4] = 0;map->map[2][5] = 3;map->map[2][6] = 0;map->map[2][7] = 0;map->map[2][8] = 0;map->map[2][9] = 0;map->map[2][10] = 1;map->map[2][11] = 0;map->map[2][12] = 0;map->map[2][13] = 1;map->map[2][14] = 0;
            map->map[3][0] = 0;map->map[3][1] = 0;map->map[3][2] = 0;map->map[3][3] = 0;map->map[3][4] = 0;map->map[3][5] = 1;map->map[3][6] = 1;map->map[3][7] = 1;map->map[3][8] = 3;map->map[3][9] = 1;map->map[3][10] = 1;map->map[3][11] = 0;map->map[3][12] = 0;map->map[3][13] = 1;map->map[3][14] = 0;
            map->map[4][0] = 0;map->map[4][1] = 0;map->map[4][2] = 0;map->map[4][3] = 0;map->map[4][4] = 0;map->map[4][5] = 0;map->map[4][6] = 0;map->map[4][7] = 0;map->map[4][8] = 0;map->map[4][9] = 0;map->map[4][10] = 0;map->map[4][11] = 0;map->map[4][12] = 1;map->map[4][13] = 3;map->map[4][14] = 0;
            map->map[5][0] = 0;map->map[5][1] = 4;map->map[5][2] = 0;map->map[5][3] = 0;map->map[5][4] = 0;map->map[5][5] = 1;map->map[5][6] = 1;map->map[5][7] = 1;map->map[5][8] = 1;map->map[5][9] = 1;map->map[5][10] = 1;map->map[5][11] = 1;map->map[5][12] = 1;map->map[5][13] = 1;map->map[5][14] = 0;
            map->map[6][0] = 0;map->map[6][1] = 1;map->map[6][2] = 0;map->map[6][3] = 1;map->map[6][4] = 1;map->map[6][5] = 1;map->map[6][6] = 0;map->map[6][7] = 0;map->map[6][8] = 0;map->map[6][9] = 0;map->map[6][10] = 0;map->map[6][11] = 0;map->map[6][12] = 0;map->map[6][13] = 1;map->map[6][14] = 0;
            map->map[7][0] = 0;map->map[7][1] = 1;map->map[7][2] = 1;map->map[7][3] = 1;map->map[7][4] = 1;map->map[7][5] = 1;map->map[7][6] = 1;map->map[7][7] = 1;map->map[7][8] = 1;map->map[7][9] = 1;map->map[7][10] = 1;map->map[7][11] = 1;map->map[7][12] = 1;map->map[7][13] = 1;map->map[7][14] = 0;
            map->map[8][0] = 0;map->map[8][1] = 0;map->map[8][2] = 0;map->map[8][3] = 0;map->map[8][4] = 0;map->map[8][5] = 0;map->map[8][6] = 0;map->map[8][7] = 0;map->map[8][8] = 0;map->map[8][9] = 2;map->map[8][10] = 1;map->map[8][11] = 1;map->map[8][12] = 1;map->map[8][13] = 1;map->map[8][14] = 0;
            map->map[9][0] = 0;map->map[9][1] = 0;map->map[9][2] = 0;map->map[9][3] = 0;map->map[9][4] = 0;map->map[9][5] = 0;map->map[9][6] = 0;map->map[9][7] = 0;map->map[9][8] = 0;map->map[9][9] = 0;map->map[9][10] = 0;map->map[9][11] = 0;map->map[9][12] = 0;map->map[9][13] = 0;map->map[9][14] = 0;

            j->posX = 9;
            j->posY = 8;

            break;

        case 2 : {
            /*
            
             0123456789012345678901234567890123456789012345678
            0###########################B#####################
            1################            M      ##############
            2############S###############           ######  ##
            3############      #########              ####  ##
            4#######     #####    ################M##       ##
            5####### ############              M   ###########
            6####### #######################   ###############
            7#######    ########        # ####     ###########
            8########## ##########  ##     ######  ###########
            9########## ########   ######  ######  ###########
            0#######           M       ##   ###    ###########
            1###M      ##################    ### #############
            2### ########################     M              #
            3###       ################   #########   ########
            4###X###################S   ########      S#######
            5#################################################

            # = 0 (wall) ; ' ' = 1 (path); X = 2(player); M = 3(monster); S = 4(shop); B = 5(boss); x = 6 (has been)

            
            J'ai envie de me tuer j'ai essayer la boucle pour aller plus vite mais les conditions m'ont pris 2h
            */

            MAP_WIDTH = 49;
            MAP_HEIGHT = 16;

            map->map = malloc(sizeof(int*)*MAP_HEIGHT);
            for (int i = 0; i < MAP_HEIGHT; i++){
                map->map[i] = malloc(sizeof(int)*MAP_WIDTH);
            }

            int tmp[16][49] = {
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,3,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,0,0},
                {0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,1,1,1,1,1,1,0,0},
                {0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,1,1,1,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,3,1,1,1,1,1,1,1,0,0,1,1,1,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,3,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},
                {0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0},
                {0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,4,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
            };
            
            for (int i = 0; i < MAP_HEIGHT; i++){
                for (int j = 0; j < MAP_WIDTH; j++){
                    map->map[i][j] = tmp[i][j];
                }
            }
            

            j->posY = 14;
            j->posX = 3;

            break;
        }
        case 3 :{

            //j'ai decouvert le ctrl F
            

            MAP_HEIGHT = 20;
            MAP_WIDTH = 80;

            int tmp[20][80] = {
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,0,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,3,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0},
                {0,0,1,0,0,0,0,1,0,0,0,1,0,0,1,1,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,1,0,0,0,0,1,0,0,0,1,1,1,1,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,1,0,0,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0,1,1,1,1,1,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,1,0,1,0,0,0,1,0,1,0,0,1,0,0,0,0,0,1,1,1,1,0,0},
                {0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,1,0,0,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,1,0,0,0,1,0,1,0,0,1,0,0,0,0,0,0,1,0,0,0,0},
                {0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,1,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,0,1,0,1,0,0,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0,1,0,0,0,1,0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,4,0},
                {0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,0,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,0,0,1,1,1,1,0,0,0,0,1,0,0,0,1,0},
                {0,0,0,0,0,0,0,1,1,1,4,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,1,0,1,0},
                {0,0,0,1,1,0,1,0,0,0,1,0,0,0,0,0,3,0,0,0,0,0,1,1,1,1,1,1,0,1,0,1,0,0,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0},
                {0,0,0,1,0,0,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,1,1,3,1,1,1,1,0,0,0,0,0,0,0,1,0},
                {0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,0,1,0,0,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,0,0,1,0,0,1,1,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0},
                {0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,0,1,1,1,0,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,0,0,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},
                {0,0,0,0,0,0,1,0,0,0,0,0,0,4,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,4,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
                };
                
            map->map = malloc(sizeof(int*)*MAP_HEIGHT);
            for (int i = 0; i < MAP_HEIGHT; i++){
                map->map[i] = malloc(sizeof(int)*MAP_WIDTH);
            }

            for (int i = 0; i < MAP_HEIGHT; i++) {
                for (int j = 0; j < MAP_WIDTH; j++) {
                    map->map[i][j] = tmp[i][j];
                }
            }

            j->posX = 79;
            j->posY = 19;
            
            break;
        }
        case 4 :{

            MAP_HEIGHT = 22;
            MAP_WIDTH = 100;

            int tmp[22][100] = {
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,4,1,1,1,1,1,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,3,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,1,1,1,1,1,1,1,2,1,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,3,1,1,1,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,3,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,3,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
                {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
            };

            map->map = malloc(sizeof(int*)*MAP_HEIGHT);
            for (int i = 0; i < MAP_HEIGHT; i++){
                map->map[i] = malloc(sizeof(int)*MAP_WIDTH);
            }

            for (int i = 0; i < MAP_HEIGHT; i++) {
                for (int j = 0; j < MAP_WIDTH; j++) {
                    map->map[i][j] = tmp[i][j];
                }
            }

            j->posY = 14;
            j->posX = 93;
            

            break;
        }
    }

    map->height = MAP_HEIGHT;
    map->width = MAP_WIDTH;
    map->level = level +1 ;
}

/*

LES MAPS 2 / 3 /4 /5 DESIGN PAR CHLOE RICHARD (la 4 est spécialement pour Jonathan)

*/

int * getAlowedMoves(map map,joueur joueur) {
    int * alowedMoves = malloc(sizeof(int)*4);
    for (int i = 0; i < 4; i++){
        alowedMoves[i] = 0;
    }

    if (map.map[joueur.posY][joueur.posX-1] != 0) {
        alowedMoves[2] = 1;
    }
    
    if (map.map[joueur.posY][joueur.posX+1] != 0) {
        alowedMoves[3] = 1;
    }

    if (map.map[joueur.posY-1][joueur.posX] != 0) {
        alowedMoves[0] = 1;
    }
    
    if (map.map[joueur.posY+1][joueur.posX] != 0) {
        alowedMoves[1] = 1;
    }
    
    return alowedMoves;
}